import{_ as s,e as i,o as a,Z as e}from"./chunks/framework.tCCUWFfl.js";const u=JSON.parse('{"title":"使用","description":"Git使用记录","frontmatter":{"title":"使用","description":"Git使用记录","category":"git","tags":["Git"]},"headers":[],"relativePath":"cli/git/use.md","filePath":"cli/git/use.md","lastUpdated":1686303485000}'),t={name:"cli/git/use.md"},n=e(`<h1 id="git-使用" tabindex="-1">Git 使用 <a class="header-anchor" href="#git-使用" aria-label="Permalink to &quot;Git 使用&quot;">​</a></h1><h2 id="git-配置" tabindex="-1">Git 配置 <a class="header-anchor" href="#git-配置" aria-label="Permalink to &quot;Git 配置&quot;">​</a></h2><p>每一个级别的配置都会覆盖上层的相同配置，所以 <code>.git/config</code> 里的配置会覆盖 <code>/etc/gitconfig</code> 中的同名变量</p><table><thead><tr><th>命令</th><th>描述</th><th>对应读写文件</th></tr></thead><tbody><tr><td>git config --system</td><td>系统级配置，对所有用户都适用</td><td>/etc/gitconfig</td></tr><tr><td>git config --global</td><td>用户级配置，只适用于该用户</td><td>~/.gitconfig</td></tr><tr><td>git config</td><td>项目级配置，只适用于该项目</td><td>当前项目/.git/config</td></tr></tbody></table><h2 id="仓库克隆" tabindex="-1">仓库克隆 <a class="header-anchor" href="#仓库克隆" aria-label="Permalink to &quot;仓库克隆&quot;">​</a></h2><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone [options] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">repositor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [&lt;directory&gt;]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 克隆某个 my-branch 到名为 my-project 的新目录中</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone --branch my-branch https://github.com/user/repo.git my-project</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li><p><code>-v</code> 或 <code>--verbose</code>：输出详细的进度信息；</p></li><li><p><code>-q</code> 或 <code>--quiet</code>：减少输出信息的冗杂度；</p></li><li><p><code>--depth &lt;depth&gt;</code>：指定要克隆的历史记录的深度，即克隆最近的几个提交；</p></li><li><p><code>--branch &lt;branch&gt;</code>：指定要克隆的分支；</p></li><li><p><code>--single-branch</code>：仅克隆指定的分支，而不是所有分支；</p></li><li><p><code>--no-tags</code>：不克隆标签；</p></li><li><p><code>--recurse-submodules</code>：递归克隆子模块。</p></li></ul><h2 id="仓库同步" tabindex="-1">仓库同步 <a class="header-anchor" href="#仓库同步" aria-label="Permalink to &quot;仓库同步&quot;">​</a></h2><p>1、拉取所有分支</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone --mirror</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>git clone</code> 命令只会拉取 <code>master</code> 的最新信息。</li><li><code>--mirror</code> 会将所有分支内容都拉下来。</li></ul><p>2、将远端已经删除的分支在本地清理掉</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote update --prune origin</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>3、推送所有分支到目标仓库</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push -f --prune --all [target_repository]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>4、同步 <code>tag</code></p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tag --sort==-createordate </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> head</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n2000</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push -f [target_repository]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>三条命令同步仓库：</p><blockquote><p>需要有强制推送的权限；部分需要把分支保护关闭</p></blockquote><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone --bare [source_repository] [dir_name]  # 源仓库</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [dir_name]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push --mirror [target_repository]  # 目标仓库</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,20),l=[n];function p(r,d,h,c,o,g){return a(),i("div",null,l)}const b=s(t,[["render",p]]);export{u as __pageData,b as default};
