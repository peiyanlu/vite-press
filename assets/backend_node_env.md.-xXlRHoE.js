import{_ as a,e as i,q as s,D as e,x as l,Z as t,o as p}from"./chunks/framework.tCCUWFfl.js";const y=JSON.parse('{"title":"NodeEnv","description":"环境变量中的环境信息","frontmatter":{"title":"NodeEnv","description":"环境变量中的环境信息","category":"node","tags":["node","env"],"order":0,"ignore":false},"headers":[],"relativePath":"backend/node/env.md","filePath":"backend/node/env.md","lastUpdated":1686488104000}'),r={name:"backend/node/env.md"},h={id:"frontmatter-title",tabindex:"-1"},d=s("a",{class:"header-anchor",href:"#frontmatter-title","aria-label":'Permalink to "{{ $frontmatter.title }}"'},"​",-1),c=t(`<blockquote><p>process.env.NODE_ENV</p></blockquote><p><strong>释义</strong></p><ul><li><code>process.env</code> 是 <code>Node.js</code> 中的一个环境对象。其中保存着系统的环境的变量信息；全局变量 <code>process</code> 表示的是当前的 <code>node</code> 进程；</li><li><code>NODE_ENV</code> 是其中的一个环境变量。这个变量主要用于标识当前的环境（生产环境，开发环境）。默认是没有这个环境变量的，需要自己手动配置。不同系统有不同的环境变量配置方式</li></ul><blockquote><p><code>NODE_ENV</code> 在 <code>webpack</code> 中它的用途是判断 <strong>生产环境或开发环境</strong>。 <code>vue/cli</code> 配置环境变量，在项目根目录创建 .env 文件即可</p></blockquote><details class="details custom-block"><summary>vue/cli</summary><p><em><strong>1、默认模式</strong></em></p><table><thead><tr><th style="text-align:center;">模式</th><th style="text-align:center;">对应npm命令</th><th style="text-align:center;">对应文件名称</th></tr></thead><tbody><tr><td style="text-align:center;">development</td><td style="text-align:center;">server</td><td style="text-align:center;">.env.development</td></tr><tr><td style="text-align:center;">production</td><td style="text-align:center;">build</td><td style="text-align:center;">.env.production</td></tr><tr><td style="text-align:center;">test</td><td style="text-align:center;">test</td><td style="text-align:center;">.env.test</td></tr></tbody></table><ul><li>需要注意的是：<code>process.env.NODE_ENV</code> 为默认变量，会自动设置为上边对应的模式名称</li><li></li><li>其他变量必须以 <code>VUE_APP_</code> 开头，会被 <code>vue-cli-service</code> 的所有命令、插件、依赖可用</li></ul><p><em><strong>2、自定义模式</strong></em></p><blockquote><p><code>NODE_ENV</code> 还是只能为 <code>production</code> 或 <code>development</code></p></blockquote><p>比如我们的测试网址，就需要一个自定义 gray 模式</p><ul><li>修改 <code>package.json</code></li></ul><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;scripts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line highlighted"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;build:gray&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;vue-cli-service build --mode gray&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>添加.env.gray文件</li></ul><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark has-highlighted vp-code"><code><span class="line highlighted"><span>NODE_ENV = production</span></span>
<span class="line"><span>VUE_APP_URL = https://**.cc/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></details><p><strong>配置</strong></p><details class="details custom-block"><summary>Win/Linux</summary><ul><li>windows环境配置如下：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#node中常用的到的环境变量是NODE_ENV，首先查看是否存在 </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NODE_ENV </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#如果不存在则添加环境变量 </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NODE_ENV=production </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#环境变量追加值 set 变量名=%变量名%;变量内容 </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> path=%path%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">C:\\web</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">C:\\Tools</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#某些时候需要删除环境变量 </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NODE_ENV=</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li>Linux配置(mac系统环境也属于这个)如下：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#node中常用的到的环境变量是NODE_ENV，首先查看是否存在</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $NODE_ENV</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#如果不存在则添加环境变量</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NODE_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">production</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#环境变量追加值</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$path</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:/home/download:/usr/local/</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#某些时候需要删除环境变量</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">unset</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NODE_ENV</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#某些时候需要显示所有的环境变量</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">env</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></details>`,7);function k(n,o,E,u,g,b){return p(),i("div",null,[s("h1",h,[e(l(n.$frontmatter.title)+" ",1),d]),c])}const v=a(r,[["render",k]]);export{y as __pageData,v as default};
