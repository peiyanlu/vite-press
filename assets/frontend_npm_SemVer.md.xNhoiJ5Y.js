import{_ as s,e as a,o as e,Z as i}from"./chunks/framework.tCCUWFfl.js";const b=JSON.parse('{"title":"版本规范","description":"npm包的版本规范","frontmatter":{"title":"版本规范","description":"npm包的版本规范","category":"npm","tags":["NPM","SemVer"]},"headers":[],"relativePath":"frontend/npm/SemVer.md","filePath":"frontend/npm/SemVer.md","lastUpdated":1686303485000}'),n={name:"frontend/npm/SemVer.md"},l=i(`<h1 id="npm-包版本号规范" tabindex="-1">NPM 包版本号规范 <a class="header-anchor" href="#npm-包版本号规范" aria-label="Permalink to &quot;NPM 包版本号规范&quot;">​</a></h1><blockquote><p>SemVer：Semantic Versioning Specification, 语义化版本命名规范</p></blockquote><h2 id="semver-是什么" tabindex="-1">SemVer 是什么 <a class="header-anchor" href="#semver-是什么" aria-label="Permalink to &quot;SemVer 是什么&quot;">​</a></h2><p><code>SemVer</code> 通常有两层含义：</p><ul><li><p>语义化版本号标准：<code>Github</code> 起草的版本号规范，定义了一套语义化版本号应遵循的标准和规则。</p></li><li><p><code>Node</code> 的实现：<code>Node</code> 中对语义化版本号的具体实现。<code>npm</code> 包版本号就遵循了 <code>SemVer</code> 标准。</p></li></ul><h2 id="semver-标准" tabindex="-1">SemVer 标准 <a class="header-anchor" href="#semver-标准" aria-label="Permalink to &quot;SemVer 标准&quot;">​</a></h2><h3 id="标准版本号" tabindex="-1">标准版本号 <a class="header-anchor" href="#标准版本号" aria-label="Permalink to &quot;标准版本号&quot;">​</a></h3><p>标准版本号为三个部分组成，中间使用点 <code>.</code> 分隔。如当前 <code>npm</code> 的版本号为：1.3.2。三个部分含义为：</p><table><thead><tr><th></th><th>含义</th><th>描述</th><th>示例</th></tr></thead><tbody><tr><td>Major</td><td>主版本号</td><td>通常为重构或做了向下不兼容的API修改</td><td>1</td></tr><tr><td>Minor</td><td>次版本号</td><td>增加新功能，兼容之前的版本</td><td>3</td></tr><tr><td>Patch</td><td>修订号</td><td>向下兼容的问题修订</td><td>2</td></tr></tbody></table><h3 id="先行版本号" tabindex="-1">先行版本号 <a class="header-anchor" href="#先行版本号" aria-label="Permalink to &quot;先行版本号&quot;">​</a></h3><p>在标准版本号后面通过短中划线 <code>-</code> 加上 <code>alpha</code>、<code>beta</code>、<code>rc</code> 等词语，这种版本称为<strong>先行版本</strong></p><blockquote><p>最终发布版本（release）之前的版本，都可以理解为先行版本。</p></blockquote><ul><li><strong>alpha</strong>：内测版本。可能 <code>bug</code> 较多，需要继续修改</li><li><strong>beta</strong>：公测版本。相对 <code>alpha</code> 有很大的改进，没有严重错误，但是还存在着一些缺陷，需要经过多次测试来进一步消除</li><li><strong>rc</strong>：即 <code>Release candidate</code>，以前称为 <code>gama</code>，正式版本的候选版本。比较稳定，不会再加入新的功能</li></ul><p>如果有多个先行版本，可以在后面加上 <code>.</code> 和 <code>数字</code>，如：1.0.0-alpha.1、1.0.0-alpha.2、1.1.1-rc.6 等。</p><h2 id="package-版本号" tabindex="-1">package 版本号 <a class="header-anchor" href="#package-版本号" aria-label="Permalink to &quot;package 版本号&quot;">​</a></h2><p>项目中使用到的依赖的版本号和当前项目的版本号</p><h3 id="依赖的版本号" tabindex="-1">依赖的版本号 <a class="header-anchor" href="#依赖的版本号" aria-label="Permalink to &quot;依赖的版本号&quot;">​</a></h3><p>在依赖的包的版本号前面有一些符号，如：<code>^</code>、<code>~</code>、<code>*</code> 等。</p><ul><li><code>^</code>：最左侧第一个非 <code>0</code> 的数字不变（<code>Major</code> 非 <code>0</code>，可理解为 <code>Major</code> 固定），次版本号 <code>Minor</code> 和修订号 <code>Patch</code> 不小于该版本号</li><li><code>~</code>：主版本号 <code>Major</code> 和次版本号 <code>Minor</code> 固定，修订号 <code>Patch</code> 不小于该版本号</li><li><code>*</code>：始终最新版本</li><li><code>x.x.x</code>：<code>x</code> 能够代替 <code>Major</code>、<code>Minor</code>、<code>Patch</code> 中的任何一个位置。表示对应的位置可以更新</li></ul><h3 id="版本号升级" tabindex="-1">版本号升级 <a class="header-anchor" href="#版本号升级" aria-label="Permalink to &quot;版本号升级&quot;">​</a></h3><ul><li>升级主版本号 <code>Major</code></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> version major</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1.0.0 -&gt; 2.0.0</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>升级次版本号 <code>Minor</code></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> version minor</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1.0.0 -&gt; 1.1.0</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>升级修订号 <code>Patch</code></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> version patch</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1.0.0 -&gt; 1.0.1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="版本号工具" tabindex="-1">版本号工具 <a class="header-anchor" href="#版本号工具" aria-label="Permalink to &quot;版本号工具&quot;">​</a></h2><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add semver</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#比较版本号</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">console.log(semver.lt(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&#39;1.0.0&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;1.1.0&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">console.log(semver.eq(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&#39;1.0.0&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;1.1.0&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">console.log(semver.gt(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&#39;1.0.0&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;1.1.0&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#提取版本号</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">console.log(semver.major(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&#39;1.2.3&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">console.log(semver.minor(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&#39;1.2.3&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">console.log(semver.patch(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&#39;1.2.3&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#验证版本号</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">console.log(semver.clean(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&#39;v1.0.0&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">console.log(semver.valid(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&#39;v1.0.0&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">console.log(semver.valid(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&#39;v1.0.a&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div>`,28),p=[l];function t(r,d,h,o,c,k){return e(),a("div",null,p)}const g=s(n,[["render",t]]);export{b as __pageData,g as default};
