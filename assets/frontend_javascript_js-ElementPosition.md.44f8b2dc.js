import{_ as s,k as a,l as n,U as l}from"./chunks/framework.d15d0c2c.js";const u=JSON.parse('{"title":"元素位置","description":"获取元素位置和鼠标位置","frontmatter":{"title":"元素位置","description":"获取元素位置和鼠标位置","category":"javascript","tags":["scroll","client","offset"]},"headers":[],"relativePath":"frontend/javascript/js-ElementPosition.md","filePath":"frontend/javascript/js-ElementPosition.md","lastUpdated":1684678997000}'),e={name:"frontend/javascript/js-ElementPosition.md"},o=l(`<h1 id="元素位置" tabindex="-1">元素位置 <a class="header-anchor" href="#元素位置" aria-label="Permalink to &quot;元素位置&quot;">​</a></h1><h2 id="scroll" tabindex="-1">scroll <a class="header-anchor" href="#scroll" aria-label="Permalink to &quot;scroll&quot;">​</a></h2><blockquote><p>scrollWidth 和 scrollHeight、scrollTop 和 scrollLeft</p></blockquote><ul><li><code>scrollWidth</code> 的实际宽度：获取指定标签内容层的真实宽度（可视区域宽度+被隐藏区域宽度）</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">scrollWidth </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dom</span><span style="color:#89DDFF;">?.</span><span style="color:#A6ACCD;">scrollWidth</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>scrollHeight</code> 的实际高度：获取指定标签内容层的真实高度（可视区域高度+被隐藏区域高度）</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">scrollHeight </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dom</span><span style="color:#89DDFF;">?.</span><span style="color:#A6ACCD;">scrollHeight</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>scrollTop</code>：内容层顶部 到 可视区域顶部的距离。（被隐藏区域高度）</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">scrollTop </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dom</span><span style="color:#89DDFF;">?.</span><span style="color:#A6ACCD;">scrollTop</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>scrollLeft</code>：内容层左端 到 可视区域左端的距离。（被隐藏区域宽度）</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">scrollLeft </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dom</span><span style="color:#89DDFF;">?.</span><span style="color:#A6ACCD;">scrollLeft</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="client" tabindex="-1">client <a class="header-anchor" href="#client" aria-label="Permalink to &quot;client&quot;">​</a></h2><blockquote><p>clientWidth 和 clientHeight、clientTop 和 clientLeft</p></blockquote><ul><li><code>clientWidth</code> 的实际宽度：<code>width</code> + 左右 <code>padding</code>。 （可视区域宽度）</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">clientWidth </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dom</span><span style="color:#89DDFF;">?.</span><span style="color:#A6ACCD;">clientWidth</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>clientHeight</code> 的实际高度：<code>height</code> + 上下 <code>padding</code>。 （可视区域高度）</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">clientHeight </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dom</span><span style="color:#89DDFF;">?.</span><span style="color:#A6ACCD;">clientHeight</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>clientTop</code>：<code>border.top</code>(上边框的宽度)</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">clientTop </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dom</span><span style="color:#89DDFF;">?.</span><span style="color:#A6ACCD;">clientTop</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>clientLeft</code>：<code>border.left</code>(左边框的宽度)</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">clientLeft </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dom</span><span style="color:#89DDFF;">?.</span><span style="color:#A6ACCD;">clientLeft</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="offset" tabindex="-1">offset <a class="header-anchor" href="#offset" aria-label="Permalink to &quot;offset&quot;">​</a></h2><blockquote><p>offsetWidth 和 offsetHeight、offsetTop 和 offsetLeft</p></blockquote><ul><li><code>offsetWidth</code> 的实际宽度：<code>width</code> + 左右 <code>padding</code> + 左右 <code>border</code></li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">offsetWidth </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dom</span><span style="color:#89DDFF;">?.</span><span style="color:#A6ACCD;">offsetWidth</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>offsetHeight</code> 的实际高度：<code>height</code> + 上下 <code>padding</code> + 上下 <code>border</code></li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">offsetHeight </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dom</span><span style="color:#89DDFF;">?.</span><span style="color:#A6ACCD;">offsetHeight</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>offsetTop</code>：当前元素 <strong>上边框外边缘</strong> 到最近的已定位父级（offsetParent） <strong>上边框内边缘</strong> 的距离。如果父级都没有定位，则是到 <strong>body顶部</strong> 的距离</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">offsetTop </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dom</span><span style="color:#89DDFF;">?.</span><span style="color:#A6ACCD;">offsetTop</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>offsetLeft</code>：当前元素 <strong>左边框外边缘</strong> 到最近的已定位父级（offsetParent）<strong>左边框内边缘</strong> 的距离。如果父级都没有定位，则是到 <strong>body左边</strong> 的距离</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">offsetLeft </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> dom</span><span style="color:#89DDFF;">?.</span><span style="color:#A6ACCD;">offsetLeft</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="event" tabindex="-1">event <a class="header-anchor" href="#event" aria-label="Permalink to &quot;event&quot;">​</a></h2><h3 id="screen" tabindex="-1">screen <a class="header-anchor" href="#screen" aria-label="Permalink to &quot;screen&quot;">​</a></h3><ul><li><code>screenX</code>：返回当某个事件被触发时，鼠标指针相对于显示器的水平坐标。</li><li><code>screenY</code>：返回当某个事件被触发时，鼠标指针相对于显示器的垂直坐标。</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">evt</span><span style="color:#89DDFF;">?.</span><span style="color:#A6ACCD;">screenX</span></span>
<span class="line"><span style="color:#A6ACCD;">evt</span><span style="color:#89DDFF;">?.</span><span style="color:#A6ACCD;">screenY</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="page" tabindex="-1">page <a class="header-anchor" href="#page" aria-label="Permalink to &quot;page&quot;">​</a></h3><ul><li><code>pageX</code>：鼠标到文档左边的距离，包括滚动隐藏区域</li><li><code>pageY</code>：鼠标到文档顶部的距离，包括滚动隐藏区域</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">evt</span><span style="color:#89DDFF;">?.</span><span style="color:#A6ACCD;">pageX</span></span>
<span class="line"><span style="color:#A6ACCD;">evt</span><span style="color:#89DDFF;">?.</span><span style="color:#A6ACCD;">pageY</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="offset-1" tabindex="-1">offset <a class="header-anchor" href="#offset-1" aria-label="Permalink to &quot;offset&quot;">​</a></h3><ul><li><code>offsetX</code>：鼠标到事件源左边框内侧的距离</li><li><code>offsetY</code>：鼠标到事件源上边框内侧的距离</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">evt</span><span style="color:#89DDFF;">?.</span><span style="color:#A6ACCD;">offsetX</span></span>
<span class="line"><span style="color:#A6ACCD;">evt</span><span style="color:#89DDFF;">?.</span><span style="color:#A6ACCD;">offsetY</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="client-1" tabindex="-1">client <a class="header-anchor" href="#client-1" aria-label="Permalink to &quot;client&quot;">​</a></h3><ul><li><code>clientX</code>：鼠标到文档左边的距离，不包括滚动隐藏区域</li><li><code>clientY</code>：鼠标到文档顶部的距离，不包括滚动隐藏区域</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">evt</span><span style="color:#89DDFF;">?.</span><span style="color:#A6ACCD;">clientX</span></span>
<span class="line"><span style="color:#A6ACCD;">evt</span><span style="color:#89DDFF;">?.</span><span style="color:#A6ACCD;">clientY</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="应用" tabindex="-1">应用 <a class="header-anchor" href="#应用" aria-label="Permalink to &quot;应用&quot;">​</a></h2><ul><li>计算元素距离<strong>浏览器左上角</strong>的距离</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> getOffsetLeft </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">dom</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">tmp</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">dom</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">offsetLeft</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">val</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">dom</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">offsetParent</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">while</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">val</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">tmp</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">val</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">offsetLeft</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">val</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">val</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">offsetParent</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">tmp</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> getOffsetTop </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">dom</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">tmp</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">dom</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">offsetTop</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">val</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">dom</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">offsetParent</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">while</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">val</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">tmp</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">val</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">offsetTop</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">val</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">val</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">offsetParent</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">tmp</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div>`,47),p=[o];function t(c,r,i,d,y,D){return a(),n("div",null,p)}const A=s(e,[["render",t]]);export{u as __pageData,A as default};
